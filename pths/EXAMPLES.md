# Примеры использования программы интегрирования

## Компиляция

```bash
cd /Users/ivan/CLionProjects/Phys_OS/pths
gcc -o itg.out itg.c -lm -lpthread
```

## Режим непрерывной функции (f(x) = sqrt(x))

### Пример 1: Базовый интеграл
```bash
./itg.out cont 0 4 0.01
```
**Результат:** 5.323582  
**Точное значение:** ∫[0,4] sqrt(x)dx = (2/3)·4^(3/2) = 5.333...  
**Погрешность:** ~0.18%

### Пример 2: Интеграл от 1 до 9
```bash
./itg.out cont 1 9 0.001
```
**Результат:** 17.331361  
**Точное значение:** ∫[1,9] sqrt(x)dx = (2/3)·(27-1) = 17.333...  
**Погрешность:** ~0.01%

### Пример 3: Маленький интервал
```bash
./itg.out cont 0 1 0.01
```
**Результат:** 0.665448  
**Точное значение:** ∫[0,1] sqrt(x)dx = (2/3)·1 = 0.667...  
**Погрешность:** ~0.23%

### Пример 4: Большой интервал
```bash
./itg.out cont 1 16 0.001
```
**Результат:** 41.992219  
**Точное значение:** ∫[1,16] sqrt(x)dx = (2/3)·(64-1) = 42  
**Погрешность:** ~0.02%

### Пример 5: Высокая точность
```bash
./itg.out cont 0 9 0.0001
```
Увеличение точности за счет уменьшения eps

## Режим дискретных данных

### Пример 1: sqrt(x) на 5 точках
```bash
./itg.out 5 0 1 2 3 4 0 1 1.414 1.732 2 1 5 0.01
```
**Точки:**
- x: [0, 1, 2, 3, 4]
- y: [0, 1, 1.414, 1.732, 2]

**Интегрируем:** от индекса 1 до 5 (весь диапазон)  
**Результат:** 5.145996

### Пример 2: sqrt(x) на 10 точках
```bash
./itg.out 10 0 1 2 3 4 5 6 7 8 9 0 1 1.414 1.732 2 2.236 2.449 2.646 2.828 3 1 10 0.001
```
**Точки:** 10 точек от 0 до 9  
**Интегрируем:** весь диапазон  
Больше точек → выше точность

### Пример 3: Частичный интеграл
```bash
./itg.out 7 0 1 2 3 4 5 6 0 1 1.414 1.732 2 2.236 2.449 2 5 0.01
```
**Интегрируем:** только от индекса 2 до 5 (от x=1 до x=4)

## Аналитические значения для sqrt(x)

Формула: ∫sqrt(x)dx = (2/3)·x^(3/2) + C

| Интервал | Точное значение | Команда |
|----------|----------------|---------|
| [0, 1]   | 0.667          | `./itg.out cont 0 1 0.01` |
| [0, 4]   | 5.333          | `./itg.out cont 0 4 0.01` |
| [1, 4]   | 4.667          | `./itg.out cont 1 4 0.01` |
| [1, 9]   | 17.333         | `./itg.out cont 1 9 0.001` |
| [0, 9]   | 18.000         | `./itg.out cont 0 9 0.001` |
| [1, 16]  | 42.000         | `./itg.out cont 1 16 0.001` |
| [4, 16]  | 37.333         | `./itg.out cont 4 16 0.001` |

## Влияние параметра eps

eps определяет требуемую точность интегрирования и влияет на шаг интегрирования:

- **eps = 0.1** - быстро, низкая точность
- **eps = 0.01** - средняя точность (рекомендуется)
- **eps = 0.001** - высокая точность
- **eps = 0.0001** - очень высокая точность, медленно

```bash
# Сравнение разных eps для [0,4]
./itg.out cont 0 4 0.1     # Быстро, менее точно
./itg.out cont 0 4 0.01    # Сбалансированно
./itg.out cont 0 4 0.001   # Медленно, точно
```

## Многопоточность

Программа автоматически использует 3 потока (задано константой `pthread_amnt`).

Для изменения количества потоков отредактируйте в коде:
```c
const int pthread_amnt = 3;  // Измените на нужное число
```

Затем пересоберите:
```bash
gcc -o itg.out itg.c -lm -lpthread
```

## Отключение отладочных сообщений

Для ускорения работы и чистого вывода закомментируйте все `printf` в функциях:
- `precision_cont`
- `precision_dsc`
- `square_cont`
- `square_dsc`
- `value_at`

## Изменение функции для интегрирования

Чтобы интегрировать другую функцию, измените определение в коде:

```c
double f(double x) {
    return sqrt(x);  // Замените на свою функцию
}
```

Примеры других функций:
```c
// Квадратичная функция
double f(double x) {
    return x * x;
}

// Экспонента
double f(double x) {
    return exp(x);
}

// Синус
double f(double x) {
    return sin(x);
}
```

## Проверка корректности

Для sqrt(x) можно проверить результаты вручную:

∫[a,b] sqrt(x)dx = (2/3)·b^(3/2) - (2/3)·a^(3/2)

Пример для [1, 4]:
- (2/3)·4^(3/2) - (2/3)·1^(3/2)
- (2/3)·8 - (2/3)·1
- 16/3 - 2/3 = 14/3 ≈ 4.667

```bash
./itg.out cont 1 4 0.001
# Ожидается результат близкий к 4.667
```

